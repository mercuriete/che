<div class="admin-navbar-menu recent-workspaces"
     ng-show="navbarRecentWorkspacesCtrl.getRecentWorkspaces().length">
  <section class="left-sidebar-menu" layout="column" layout-align="center center">
    <md-list layout="column">

      <md-list-item flex class="navbar-subsection-item">
        <div flex layout-align="left">
          <div layout="row" layout-align="start center">
            <span class="recent-workspaces-section-caption">Recent workspaces</span>
          </div>
        </div>
      </md-list-item>

      <md-list-item flex class="navbar-subsection-item"
                    ng-repeat="workspace in navbarRecentWorkspacesCtrl.getRecentWorkspaces() | orderBy:'attributes.updated':'reverse' | limitTo:'5'"
                    ng-class="{'recent-workspaces-last-opened': navbarRecentWorkspacesCtrl.isOpen(workspace.id)}">
        <md-button nav-bar-selected flex che-reload-href
                   che-on-long-touch="navbarRecentWorkspacesCtrl.openLinkInNewTab(workspace.id)"
                   ng-href="{{navbarRecentWorkspacesCtrl.getIdeLink(workspace.id)}}" layout-align="left"
                   target="_self">
          <div class="navbar-item" layout="row" layout-align="start center">
            <workspace-status-indicator-circle che-status="navbarRecentWorkspacesCtrl.getWorkspaceStatus(workspace.id)"
                                               che-empty-circle="true"
                                               class="navbar-icon"
                                               title="{{navbarRecentWorkspacesCtrl.getWorkspaceStatus(workspace.id)}}"></workspace-status-indicator-circle>
            <span title="{{navbarRecentWorkspacesCtrl.getWorkspaceName(workspace.id)}}"
                  ng-class="{'recent-workspaces-stopped-workspace': navbarRecentWorkspacesCtrl.getWorkspaceStatus(workspace.id) === 'STOPPED'}">{{navbarRecentWorkspacesCtrl.getWorkspaceName(workspace.id)}}</span>
          </div>
        </md-button>
      </md-list-item>
    </md-list>
  </section>
</div>
